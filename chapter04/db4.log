/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
drop table Book if exists
drop table Email if exists
drop table Email2 if exists
drop table GeneratedAutoIdentity if exists
drop table GeneratedIdentityIdentity if exists
drop table GeneratedSequenceIdentity if exists
drop table GeneratedTableIdentity if exists
drop table hibernate_sequences if exists
drop table Library if exists
drop table Message if exists
drop table Message2 if exists
drop table NongeneratedIdentity if exists
drop table SimpleObject if exists
create sequence hibernate_sequence start with 1 increment by 1
create table Book (id bigint generated by default as identity (start with 1), title varchar(255), library_id bigint, primary key (id))
create table Email (id bigint generated by default as identity (start with 1), subject varchar(255), message_id bigint, primary key (id))
create table Email2 (id bigint generated by default as identity (start with 1), subject varchar(255), primary key (id))
create table GeneratedAutoIdentity (id bigint not null, value varchar(255), primary key (id))
create table GeneratedIdentityIdentity (id bigint generated by default as identity (start with 1), value varchar(255), primary key (id))
create table GeneratedSequenceIdentity (id bigint not null, value varchar(255), primary key (id))
create table GeneratedTableIdentity (id bigint not null, value varchar(255), primary key (id))
create table hibernate_sequences (sequence_name varchar(255) not null, next_val bigint, primary key (sequence_name))
create table Library (id bigint generated by default as identity (start with 1), name varchar(255), primary key (id))
create table Message (id bigint generated by default as identity (start with 1), content varchar(255), email_id bigint, primary key (id))
create table Message2 (id bigint generated by default as identity (start with 1), content varchar(255), email_id bigint, primary key (id))
create table NongeneratedIdentity (id bigint not null, value varchar(255), primary key (id))
create table SimpleObject (id bigint generated by default as identity (start with 1), key varchar(255), value bigint, primary key (id))
alter table Book add constraint FKesionxg2ev3v25eneb22j9jpl foreign key (library_id) references Library
alter table Email add constraint FKdylyhs434pk7dcq350h8ythpm foreign key (message_id) references Message
alter table Message add constraint FK8ia8n8kuy52fmy40mk790wxko foreign key (email_id) references Email
alter table Message2 add constraint FK7buglj5ps81jdig97qe8rj8hj foreign key (email_id) references Email2
INSERT INTO EMAIL VALUES(1,'Broken',NULL)
INSERT INTO MESSAGE VALUES(1,'Broken',NULL)
DELETE FROM EMAIL WHERE ID=1
INSERT INTO EMAIL VALUES(1,'Broken',1)
COMMIT
INSERT INTO EMAIL VALUES(2,'Inverse Email',NULL)
INSERT INTO MESSAGE VALUES(2,'Inverse Message',NULL)
DELETE FROM EMAIL WHERE ID=2
INSERT INTO EMAIL VALUES(2,'Inverse Email',2)
COMMIT
INSERT INTO EMAIL VALUES(3,'Proper',NULL)
INSERT INTO MESSAGE VALUES(3,'Proper',3)
DELETE FROM EMAIL WHERE ID=3
INSERT INTO EMAIL VALUES(3,'Proper',3)
COMMIT
INSERT INTO GENERATEDAUTOIDENTITY VALUES(1,NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO GENERATEDIDENTITYIDENTITY VALUES(1,NULL)
COMMIT
INSERT INTO NONGENERATEDIDENTITY VALUES(1,NULL)
COMMIT
/*C4*/SET SCHEMA PUBLIC
INSERT INTO GENERATEDSEQUENCEIDENTITY VALUES(2,NULL)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
/*C2*/SET SCHEMA PUBLIC
INSERT INTO HIBERNATE_SEQUENCES VALUES('default',1)
DELETE FROM HIBERNATE_SEQUENCES WHERE SEQUENCE_NAME='default'
INSERT INTO HIBERNATE_SEQUENCES VALUES('default',2)
COMMIT
/*C4*/INSERT INTO GENERATEDTABLEIDENTITY VALUES(1,NULL)
COMMIT
INSERT INTO SIMPLEOBJECT VALUES(1,'testMerge',1)
COMMIT
DELETE FROM SIMPLEOBJECT WHERE ID=1
INSERT INTO SIMPLEOBJECT VALUES(1,'testMerge',2)
COMMIT
/*C2*/INSERT INTO SIMPLEOBJECT VALUES(2,'testMerge',1)
COMMIT
INSERT INTO LIBRARY VALUES(1,'orphanLib')
INSERT INTO BOOK VALUES(1,'book 1',1)
INSERT INTO BOOK VALUES(2,'book 2',1)
INSERT INTO BOOK VALUES(3,'book 3',1)
COMMIT
DELETE FROM BOOK WHERE ID=1
COMMIT
/*C4*/INSERT INTO SIMPLEOBJECT VALUES(3,'sl',10)
COMMIT
INSERT INTO SIMPLEOBJECT VALUES(4,'osas2',14)
COMMIT
DELETE FROM SIMPLEOBJECT WHERE ID=4
INSERT INTO SIMPLEOBJECT VALUES(4,'osas2',12)
COMMIT
INSERT INTO SIMPLEOBJECT VALUES(5,'osas',10)
COMMIT
INSERT INTO SIMPLEOBJECT VALUES(6,'osas',12)
COMMIT
INSERT INTO EMAIL2 VALUES(1,'Broken')
INSERT INTO MESSAGE2 VALUES(1,'Broken',NULL)
COMMIT
INSERT INTO EMAIL2 VALUES(2,'Inverse Email')
INSERT INTO MESSAGE2 VALUES(2,'Inverse Message',2)
COMMIT
INSERT INTO EMAIL2 VALUES(3,'Proper')
INSERT INTO MESSAGE2 VALUES(3,'Proper',3)
COMMIT
